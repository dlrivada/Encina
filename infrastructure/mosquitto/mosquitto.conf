# Encina MQTT Broker Configuration
# Eclipse Mosquitto 2.x

# =============================================================================
# Network Configuration
# =============================================================================

# Default MQTT listener (unencrypted, for development)
listener 1883
protocol mqtt

# WebSocket listener (for browser clients)
listener 9001
protocol websockets

# =============================================================================
# Security Configuration (Development Mode)
# =============================================================================

# Allow anonymous connections (DEVELOPMENT ONLY)
allow_anonymous true

# For production, uncomment and configure:
# allow_anonymous false
# password_file /mosquitto/config/passwd
# acl_file /mosquitto/config/acl

# =============================================================================
# Persistence
# =============================================================================

persistence true
persistence_location /mosquitto/data/

# =============================================================================
# Logging
# =============================================================================

log_dest file /mosquitto/log/mosquitto.log
log_dest stdout
log_type error
log_type warning
log_type notice
log_type information

# =============================================================================
# Message Settings
# =============================================================================

# Maximum packet size (256MB)
max_packet_size 268435456

# Maximum inflight messages
max_inflight_messages 20

# Maximum queued messages
max_queued_messages 1000

# Message expiry interval (0 = no expiry)
message_size_limit 0

# =============================================================================
# Connection Settings
# =============================================================================

# Maximum connections (0 = unlimited)
max_connections 0

# Keep alive interval
max_keepalive 65535
