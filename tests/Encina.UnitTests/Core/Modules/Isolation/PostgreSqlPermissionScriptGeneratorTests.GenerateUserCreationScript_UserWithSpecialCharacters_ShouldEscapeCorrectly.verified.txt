-- PostgreSQL Role Creation Script
-- Generated by Encina Module Isolation
-- IMPORTANT: Replace {{ModuleName_Password}} placeholders with actual passwords before execution
-- This script is idempotent and can be run multiple times safely

-- Create role for module: Test'Module
DO $$
BEGIN
    IF NOT EXISTS (SELECT 1 FROM pg_roles WHERE rolname = 'test''"user') THEN
        CREATE ROLE "test'""user" WITH LOGIN PASSWORD '{{Test'Module_Password}}';
        RAISE NOTICE 'Created role: test'"user';
    ELSE
        RAISE NOTICE 'Role already exists: test'"user';
    END IF;
END $$;

DO $$ BEGIN RAISE NOTICE 'Role creation completed successfully.'; END $$;
