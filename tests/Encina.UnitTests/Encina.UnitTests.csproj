<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <IsTestProject>true</IsTestProject>
    <RootNamespace>Encina.UnitTests</RootNamespace>
  </PropertyGroup>

  <!-- xUnit runner configuration for parallel execution -->
  <ItemGroup>
    <Content Include="..\xunit.runner.json" Link="xunit.runner.json" CopyToOutputDirectory="PreserveNewest" />
  </ItemGroup>

  <!-- Test Framework PackageReferences -->
  <ItemGroup>
    <PackageReference Include="coverlet.collector" />
    <PackageReference Include="FluentAssertions" />
    <PackageReference Include="FluentValidation" />
    <PackageReference Include="FsCheck" />
    <PackageReference Include="FsCheck.Xunit.v3" />
    <PackageReference Include="Microsoft.NET.Test.Sdk" />
    <PackageReference Include="NSubstitute" />
    <PackageReference Include="Shouldly" />
    <PackageReference Include="xunit.v3" />
    <PackageReference Include="xunit.runner.visualstudio" />
  </ItemGroup>

  <!-- Additional Test Dependencies -->
  <ItemGroup>
    <PackageReference Include="Microsoft.EntityFrameworkCore.InMemory" />
    <PackageReference Include="Microsoft.EntityFrameworkCore.Sqlite" />
    <PackageReference Include="Microsoft.EntityFrameworkCore.SqlServer" />
    <PackageReference Include="Npgsql.EntityFrameworkCore.PostgreSQL" />
    <!-- Pomelo.EntityFrameworkCore.MySql: Waiting for v10.0.0 (EF Core 10 support) -->
    <!-- <PackageReference Include="Pomelo.EntityFrameworkCore.MySql" /> -->
    <PackageReference Include="Microsoft.Extensions.Diagnostics.Testing" />
    <PackageReference Include="Microsoft.Extensions.TimeProvider.Testing" />
    <PackageReference Include="StackExchange.Redis" />
    <PackageReference Include="Bogus" />
    <PackageReference Include="Microsoft.AspNetCore.TestHost" />
    <PackageReference Include="YamlDotNet" />
    <PackageReference Include="WireMock.Net" />
    <PackageReference Include="PactNet" />
    <PackageReference Include="Verify.XunitV3" />
  </ItemGroup>

  <!-- ASP.NET Core Framework References -->
  <ItemGroup>
    <FrameworkReference Include="Microsoft.AspNetCore.App" />
  </ItemGroup>

  <!-- Global Usings -->
  <ItemGroup>
    <Using Include="Xunit" />
    <Using Include="Shouldly" />
    <Using Include="NSubstitute" />
    <Using Include="System" />
    <Using Include="System.Collections.Generic" />
    <Using Include="System.Linq" />
    <Using Include="System.Threading" />
    <Using Include="System.Threading.Tasks" />
    <Using Include="Microsoft.Extensions.DependencyInjection" />
    <Using Include="Microsoft.Extensions.Logging" />
    <Using Include="Microsoft.Extensions.Options" />
    <Using Include="LanguageExt" />
    <Using Include="Encina" />
    <Using Include="Encina.Tenancy" />
    <Using Include="Encina.Tenancy.AspNetCore" />
    <Using Include="Encina.Testing.Fakes" />
    <Using Include="Encina.Testing.Fakes.Providers" />
    <Using Include="Bogus" />
  </ItemGroup>

  <!-- Source Project References -->
  <ItemGroup>
    <!-- Core -->
    <ProjectReference Include="..\..\src\Encina\Encina.csproj" />
    <ProjectReference Include="..\..\src\Encina.Tenancy\Encina.Tenancy.csproj" />
    <ProjectReference Include="..\..\src\Encina.Tenancy.AspNetCore\Encina.Tenancy.AspNetCore.csproj" />

    <!-- Cloud / Serverless -->
    <ProjectReference Include="..\..\src\Encina.AwsLambda\Encina.AwsLambda.csproj" />
    <ProjectReference Include="..\..\src\Encina.AzureFunctions\Encina.AzureFunctions.csproj" />

    <!-- Message Brokers -->
    <ProjectReference Include="..\..\src\Encina.Kafka\Encina.Kafka.csproj" />
    <ProjectReference Include="..\..\src\Encina.RabbitMQ\Encina.RabbitMQ.csproj" />
    <ProjectReference Include="..\..\src\Encina.MQTT\Encina.MQTT.csproj" />
    <ProjectReference Include="..\..\src\Encina.NATS\Encina.NATS.csproj" />
    <ProjectReference Include="..\..\src\Encina.AmazonSQS\Encina.AmazonSQS.csproj" />
    <ProjectReference Include="..\..\src\Encina.AzureServiceBus\Encina.AzureServiceBus.csproj" />
    <ProjectReference Include="..\..\src\Encina.Messaging\Encina.Messaging.csproj" />
    <ProjectReference Include="..\..\src\Encina.DomainModeling\Encina.DomainModeling.csproj" />
    <ProjectReference Include="..\..\src\Encina.Caching\Encina.Caching.csproj" />
    <ProjectReference Include="..\..\src\Encina.FluentValidation\Encina.FluentValidation.csproj" />
    <ProjectReference Include="..\..\src\Encina.GuardClauses\Encina.GuardClauses.csproj" />
    <ProjectReference Include="..\..\src\Encina.Polly\Encina.Polly.csproj" />
    <ProjectReference Include="..\..\src\Encina.DistributedLock\Encina.DistributedLock.csproj" />
    <ProjectReference Include="..\..\src\Encina.DistributedLock.InMemory\Encina.DistributedLock.InMemory.csproj" />
    <ProjectReference Include="..\..\src\Encina.EntityFrameworkCore\Encina.EntityFrameworkCore.csproj" />
    <ProjectReference Include="..\..\src\Encina.AspNetCore\Encina.AspNetCore.csproj" />
    <ProjectReference Include="..\..\src\Encina.OpenTelemetry\Encina.OpenTelemetry.csproj" />
    <ProjectReference Include="..\..\src\Encina.DataAnnotations\Encina.DataAnnotations.csproj" />
    <ProjectReference Include="..\..\src\Encina.MiniValidator\Encina.MiniValidator.csproj" />
    <ProjectReference Include="..\..\src\Encina.Quartz\Encina.Quartz.csproj" />
    <ProjectReference Include="..\..\src\Encina.Marten\Encina.Marten.csproj" />

    <!-- Web Services -->
    <ProjectReference Include="..\..\src\Encina.gRPC\Encina.gRPC.csproj" />
    <ProjectReference Include="..\..\src\Encina.SignalR\Encina.SignalR.csproj" />
    <ProjectReference Include="..\..\src\Encina.Refit\Encina.Refit.csproj" />
    <ProjectReference Include="..\..\src\Encina.Hangfire\Encina.Hangfire.csproj" />
    <ProjectReference Include="..\..\src\Encina.GraphQL\Encina.GraphQL.csproj" />

    <!-- Database -->
    <ProjectReference Include="..\..\src\Encina.Dapper.Sqlite\Encina.Dapper.Sqlite.csproj" />
    <ProjectReference Include="..\..\src\Encina.Dapper.MySQL\Encina.Dapper.MySQL.csproj" />
    <ProjectReference Include="..\..\src\Encina.Dapper.PostgreSQL\Encina.Dapper.PostgreSQL.csproj" />
    <ProjectReference Include="..\..\src\Encina.Dapper.SqlServer\Encina.Dapper.SqlServer.csproj" />
    <ProjectReference Include="..\..\src\Encina.MongoDB\Encina.MongoDB.csproj" />

    <!-- ADO Providers -->
    <ProjectReference Include="..\..\src\Encina.ADO.MySQL\Encina.ADO.MySQL.csproj" />
    <ProjectReference Include="..\..\src\Encina.ADO.PostgreSQL\Encina.ADO.PostgreSQL.csproj" />
    <ProjectReference Include="..\..\src\Encina.ADO.Sqlite\Encina.ADO.Sqlite.csproj" />
    <ProjectReference Include="..\..\src\Encina.ADO.SqlServer\Encina.ADO.SqlServer.csproj" />

    <!-- Caching Providers -->
    <ProjectReference Include="..\..\src\Encina.Caching.Memory\Encina.Caching.Memory.csproj" />
    <ProjectReference Include="..\..\src\Encina.Caching.Redis\Encina.Caching.Redis.csproj" />
    <ProjectReference Include="..\..\src\Encina.Caching.Hybrid\Encina.Caching.Hybrid.csproj" />
    <ProjectReference Include="..\..\src\Encina.Caching.Dragonfly\Encina.Caching.Dragonfly.csproj" />
    <ProjectReference Include="..\..\src\Encina.Caching.Garnet\Encina.Caching.Garnet.csproj" />
    <ProjectReference Include="..\..\src\Encina.Caching.KeyDB\Encina.Caching.KeyDB.csproj" />
    <ProjectReference Include="..\..\src\Encina.Caching.Valkey\Encina.Caching.Valkey.csproj" />

    <!-- Distributed Lock Providers -->
    <ProjectReference Include="..\..\src\Encina.DistributedLock.Redis\Encina.DistributedLock.Redis.csproj" />
    <ProjectReference Include="..\..\src\Encina.DistributedLock.SqlServer\Encina.DistributedLock.SqlServer.csproj" />

    <!-- CLI -->
    <ProjectReference Include="..\..\src\Encina.Cli\Encina.Cli.csproj" />

    <!-- Testing Infrastructure -->
    <ProjectReference Include="..\..\src\Encina.Testing\Encina.Testing.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Shouldly\Encina.Testing.Shouldly.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Bogus\Encina.Testing.Bogus.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Fakes\Encina.Testing.Fakes.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Architecture\Encina.Testing.Architecture.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.FsCheck\Encina.Testing.FsCheck.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Pact\Encina.Testing.Pact.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Respawn\Encina.Testing.Respawn.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Testcontainers\Encina.Testing.Testcontainers.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Verify\Encina.Testing.Verify.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.WireMock\Encina.Testing.WireMock.csproj" />
    <ProjectReference Include="..\Encina.TestInfrastructure\Encina.TestInfrastructure.csproj" />

    <!-- CDC -->
    <ProjectReference Include="..\..\src\Encina.Cdc\Encina.Cdc.csproj" />
    <ProjectReference Include="..\..\src\Encina.Cdc.Debezium\Encina.Cdc.Debezium.csproj" />

    <!-- Aspire & Extensions -->
    <ProjectReference Include="..\..\src\Encina.Aspire.Testing\Encina.Aspire.Testing.csproj" />
    <ProjectReference Include="..\..\src\Encina.Extensions.Resilience\Encina.Extensions.Resilience.csproj" />

    <!-- Security -->
    <ProjectReference Include="..\..\src\Encina.Security\Encina.Security.csproj" />
    <ProjectReference Include="..\..\src\Encina.Security.Audit\Encina.Security.Audit.csproj" />
    <ProjectReference Include="..\..\src\Encina.Security.Encryption\Encina.Security.Encryption.csproj" />
    <ProjectReference Include="..\..\src\Encina.Security.Sanitization\Encina.Security.Sanitization.csproj" />
    <ProjectReference Include="..\..\src\Encina.Security.PII\Encina.Security.PII.csproj" />
    <ProjectReference Include="..\..\src\Encina.Security.AntiTampering\Encina.Security.AntiTampering.csproj" />

    <!-- Compliance -->
    <ProjectReference Include="..\..\src\Encina.Compliance.GDPR\Encina.Compliance.GDPR.csproj" />

    <!-- Secrets -->
    <ProjectReference Include="..\..\src\Encina.Security.Secrets\Encina.Security.Secrets.csproj" />
  </ItemGroup>

</Project>
