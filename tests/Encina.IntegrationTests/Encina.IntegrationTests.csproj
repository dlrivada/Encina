<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <IsTestProject>true</IsTestProject>
    <RootNamespace>Encina.IntegrationTests</RootNamespace>
  </PropertyGroup>

  <!-- xUnit runner configuration for parallel execution -->
  <ItemGroup>
    <Content Include="..\xunit.runner.json" Link="xunit.runner.json" CopyToOutputDirectory="PreserveNewest" />
  </ItemGroup>

  <!-- Test Framework PackageReferences -->
  <ItemGroup>
    <PackageReference Include="coverlet.collector" />
    <PackageReference Include="FluentAssertions" />
    <PackageReference Include="FluentValidation" />
    <PackageReference Include="Microsoft.NET.Test.Sdk" />
    <PackageReference Include="NSubstitute" />
    <PackageReference Include="Shouldly" />
    <PackageReference Include="xunit" />
    <PackageReference Include="xunit.runner.visualstudio" />
    <PackageReference Include="Xunit.SkippableFact" />
  </ItemGroup>

  <!-- Additional Test Dependencies -->
  <ItemGroup>
    <PackageReference Include="Microsoft.EntityFrameworkCore.InMemory" />
    <PackageReference Include="Microsoft.EntityFrameworkCore.Sqlite" />
    <PackageReference Include="Microsoft.EntityFrameworkCore.SqlServer" />
    <PackageReference Include="Npgsql.EntityFrameworkCore.PostgreSQL" />
    <!-- Pomelo.EntityFrameworkCore.MySql: Waiting for v10.0.0 (EF Core 10 support) -->
    <!-- <PackageReference Include="Pomelo.EntityFrameworkCore.MySql" /> -->
    <PackageReference Include="Microsoft.Extensions.Diagnostics.Testing" />
    <PackageReference Include="Microsoft.Extensions.TimeProvider.Testing" />
    <PackageReference Include="Testcontainers.PostgreSql" />
    <PackageReference Include="Testcontainers.MsSql" />
    <PackageReference Include="Testcontainers.MySql" />
    <PackageReference Include="Testcontainers.Redis" />
    <PackageReference Include="Testcontainers.MongoDb" />
    <PackageReference Include="Testcontainers.Kafka" />
    <PackageReference Include="Testcontainers.RabbitMq" />
    <PackageReference Include="Bogus" />
    <PackageReference Include="Microsoft.AspNetCore.TestHost" />
    <PackageReference Include="WireMock.Net" />
    <PackageReference Include="PactNet" />
    <PackageReference Include="Respawn" />
    <PackageReference Include="Hangfire.Core" />
    <PackageReference Include="Hangfire.AspNetCore" />
    <PackageReference Include="Hangfire.InMemory" />
    <PackageReference Include="Quartz" />
    <PackageReference Include="MySqlConnector" />
    <PackageReference Include="Npgsql" />
    <PackageReference Include="Microsoft.Data.SqlClient" />
    <PackageReference Include="Microsoft.Data.Sqlite" />
    <PackageReference Include="Dapper" />
    <PackageReference Include="Polly" />
    <PackageReference Include="OpenTelemetry" />
    <PackageReference Include="OpenTelemetry.Extensions.Hosting" />
    <PackageReference Include="OpenTelemetry.Exporter.Console" />
    <PackageReference Include="StackExchange.Redis" />
  </ItemGroup>

  <!-- ASP.NET Core Framework References -->
  <ItemGroup>
    <FrameworkReference Include="Microsoft.AspNetCore.App" />
  </ItemGroup>

  <!-- Global Usings -->
  <ItemGroup>
    <Using Include="Xunit" />
    <Using Include="Shouldly" />
    <Using Include="NSubstitute" />
    <Using Include="System" />
    <Using Include="System.Collections.Generic" />
    <Using Include="System.Linq" />
    <Using Include="System.Threading" />
    <Using Include="System.Threading.Tasks" />
    <Using Include="Microsoft.Extensions.DependencyInjection" />
    <Using Include="Microsoft.Extensions.Logging" />
    <Using Include="Microsoft.Extensions.Logging.Abstractions" />
    <Using Include="Microsoft.Extensions.Options" />
    <Using Include="LanguageExt" />
    <Using Include="Encina" />
    <Using Include="Encina.Caching" />
    <Using Include="Encina.DistributedLock" />
    <Using Include="Encina.GuardClauses" />
    <Using Include="Encina.Testing.Fakes" />
    <Using Include="Encina.Testing.Fakes.Providers" />
    <Using Include="Bogus" />
    <Using Include="Encina.Testing.Respawn" />
    <Using Include="Encina.Testing.Pact" />
    <Using Include="Encina.DistributedLock.SqlServer" />
    <Using Include="Encina.Polly" />
    <Using Include="Encina.Testing.Shouldly" />
    <Using Include="Encina.Hangfire" />
    <Using Include="Encina.OpenTelemetry" />
    <Using Include="Encina.Quartz" />
  </ItemGroup>

  <!-- Source Project References -->
  <ItemGroup>
    <!-- Core -->
    <ProjectReference Include="..\..\src\Encina\Encina.csproj" />
    <ProjectReference Include="..\..\src\Encina.DomainModeling\Encina.DomainModeling.csproj" />
    <ProjectReference Include="..\..\src\Encina.Messaging\Encina.Messaging.csproj" />
    <ProjectReference Include="..\..\src\Encina.Caching\Encina.Caching.csproj" />
    <ProjectReference Include="..\..\src\Encina.FluentValidation\Encina.FluentValidation.csproj" />
    <ProjectReference Include="..\..\src\Encina.GuardClauses\Encina.GuardClauses.csproj" />
    <ProjectReference Include="..\..\src\Encina.Polly\Encina.Polly.csproj" />
    <ProjectReference Include="..\..\src\Encina.DistributedLock\Encina.DistributedLock.csproj" />
    <ProjectReference Include="..\..\src\Encina.EntityFrameworkCore\Encina.EntityFrameworkCore.csproj" />
    <ProjectReference Include="..\..\src\Encina.AspNetCore\Encina.AspNetCore.csproj" />
    <ProjectReference Include="..\..\src\Encina.OpenTelemetry\Encina.OpenTelemetry.csproj" />
    <ProjectReference Include="..\..\src\Encina.DataAnnotations\Encina.DataAnnotations.csproj" />
    <ProjectReference Include="..\..\src\Encina.MiniValidator\Encina.MiniValidator.csproj" />
    <ProjectReference Include="..\..\src\Encina.Quartz\Encina.Quartz.csproj" />
    <ProjectReference Include="..\..\src\Encina.Marten\Encina.Marten.csproj" />
    <ProjectReference Include="..\..\src\Encina.Hangfire\Encina.Hangfire.csproj" />

    <!-- CDC -->
    <ProjectReference Include="..\..\src\Encina.Cdc\Encina.Cdc.csproj" />

    <!-- Database -->
    <ProjectReference Include="..\..\src\Encina.Dapper.Sqlite\Encina.Dapper.Sqlite.csproj" />
    <ProjectReference Include="..\..\src\Encina.Dapper.MySQL\Encina.Dapper.MySQL.csproj" />
    <ProjectReference Include="..\..\src\Encina.Dapper.PostgreSQL\Encina.Dapper.PostgreSQL.csproj" />
    <ProjectReference Include="..\..\src\Encina.Dapper.SqlServer\Encina.Dapper.SqlServer.csproj" />
    <ProjectReference Include="..\..\src\Encina.MongoDB\Encina.MongoDB.csproj" />

    <!-- ADO Providers -->
    <ProjectReference Include="..\..\src\Encina.ADO.MySQL\Encina.ADO.MySQL.csproj" />
    <ProjectReference Include="..\..\src\Encina.ADO.PostgreSQL\Encina.ADO.PostgreSQL.csproj" />
    <ProjectReference Include="..\..\src\Encina.ADO.Sqlite\Encina.ADO.Sqlite.csproj" />
    <ProjectReference Include="..\..\src\Encina.ADO.SqlServer\Encina.ADO.SqlServer.csproj" />

    <!-- Caching Providers -->
    <ProjectReference Include="..\..\src\Encina.Caching.Memory\Encina.Caching.Memory.csproj" />
    <ProjectReference Include="..\..\src\Encina.Caching.Redis\Encina.Caching.Redis.csproj" />
    <ProjectReference Include="..\..\src\Encina.Caching.Hybrid\Encina.Caching.Hybrid.csproj" />

    <!-- Distributed Lock Providers -->
    <ProjectReference Include="..\..\src\Encina.DistributedLock.Redis\Encina.DistributedLock.Redis.csproj" />
    <ProjectReference Include="..\..\src\Encina.DistributedLock.SqlServer\Encina.DistributedLock.SqlServer.csproj" />
    <ProjectReference Include="..\..\src\Encina.DistributedLock.InMemory\Encina.DistributedLock.InMemory.csproj" />

    <!-- Message Brokers -->
    <ProjectReference Include="..\..\src\Encina.Kafka\Encina.Kafka.csproj" />
    <ProjectReference Include="..\..\src\Encina.RabbitMQ\Encina.RabbitMQ.csproj" />
    <ProjectReference Include="..\..\src\Encina.MQTT\Encina.MQTT.csproj" />
    <ProjectReference Include="..\..\src\Encina.NATS\Encina.NATS.csproj" />

    <!-- Web Services -->
    <ProjectReference Include="..\..\src\Encina.Refit\Encina.Refit.csproj" />
    <ProjectReference Include="..\..\src\Encina.Extensions.Resilience\Encina.Extensions.Resilience.csproj" />

    <!-- Testing Infrastructure -->
    <ProjectReference Include="..\..\src\Encina.Testing\Encina.Testing.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Shouldly\Encina.Testing.Shouldly.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Bogus\Encina.Testing.Bogus.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Fakes\Encina.Testing.Fakes.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Testcontainers\Encina.Testing.Testcontainers.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Respawn\Encina.Testing.Respawn.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.WireMock\Encina.Testing.WireMock.csproj" />
    <ProjectReference Include="..\..\src\Encina.Testing.Pact\Encina.Testing.Pact.csproj" />
    <ProjectReference Include="..\Encina.TestInfrastructure\Encina.TestInfrastructure.csproj" />
  </ItemGroup>

</Project>
