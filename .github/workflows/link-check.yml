name: Link Check

on:
    push:
        paths:
            - "**.md"
            - ".markdown-link-check.json"
    pull_request:
        paths:
            - "**.md"
    schedule:
        # Run weekly on Sundays at 3:00 AM UTC
        - cron: "0 3 * * 0"
    workflow_dispatch:

permissions:
    contents: read

jobs:
    check-links:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v4

            - name: Check markdown links
              uses: gaurav-nelson/github-action-markdown-link-check@v1
              with:
                  use-quiet-mode: "yes"
                  use-verbose-mode: "yes"
                  config-file: ".markdown-link-check.json"
                  folder-path: "docs/, .github/"
                  file-path: "./README.md, ./CHANGELOG.md, ./CONTRIBUTING.md, ./ROADMAP.md"
                  check-modified-files-only: "no"
