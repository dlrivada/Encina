# SonarCloud Configuration for Encina
# https://docs.sonarcloud.io/advanced-setup/analysis-parameters/

# Project identification (must match workflow)
sonar.projectKey=dlrivada_Encina
sonar.organization=dlrivada

# =============================================================================
# Code Duplication Exclusions
# =============================================================================
# The Dapper and ADO.NET store implementations have INTENTIONAL duplication
# due to SQL dialect differences between database providers:
# - SQL Server: TOP, GETUTCDATE()
# - PostgreSQL: LIMIT, NOW() AT TIME ZONE 'UTC'
# - MySQL: LIMIT, UTC_TIMESTAMP()
# - SQLite: LIMIT, datetime('now')
# - Oracle: FETCH FIRST, SYSTIMESTAMP AT TIME ZONE 'UTC'
#
# Each provider is intentionally self-contained for:
# 1. Independence: Modify one provider without affecting others
# 2. Clarity: Full SQL visible in each provider
# 3. Performance: No abstraction overhead
#
# See Issue #12 for full discussion.
# =============================================================================

sonar.cpd.exclusions=\
  src/Encina.Dapper.*/Outbox/*.cs,\
  src/Encina.Dapper.*/Inbox/*.cs,\
  src/Encina.Dapper.*/Sagas/*.cs,\
  src/Encina.Dapper.*/Scheduling/*.cs,\
  src/Encina.ADO.*/Outbox/*.cs,\
  src/Encina.ADO.*/Inbox/*.cs

# =============================================================================
# Coverage Exclusions (already in workflow, duplicated here for completeness)
# =============================================================================
sonar.coverage.exclusions=\
  **/tests/**,\
  **/benchmarks/**,\
  **/load/**
